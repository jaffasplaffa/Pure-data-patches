#N canvas 131 44 580 562 10;
#X obj 149 403 r size-in-samples;
#X obj 112 419 *~;
#X obj 112 468 *~;
#X obj 127 283 *~;
#X obj 305 185 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 0 23 450 300 rev 0;
#X obj 148 136 *~ -1;
#X obj 148 158 +~ 1;
#X obj 120 94 inlet~;
#X obj 120 213 outlet~;
#X obj 207 172 inlet;
#N canvas 515 366 592 291 spigot~ 0;
#X obj 52 40 inlet~;
#X obj 432 62 inlet;
#X obj 432 118 outlet~;
#X obj 52 102 *~;
#X obj 67 78 == 0;
#X obj 112 40 inlet~;
#X obj 112 102 *~;
#X obj 127 78 == 1;
#X connect 0 0 3 0;
#X connect 1 0 4 0;
#X connect 1 0 7 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 6 0;
#X connect 6 0 2 0;
#X connect 7 0 6 1;
#X restore 120 188 pd spigot~;
#X connect 0 0 1 0;
#X connect 1 0 5 1;
#X connect 2 0 0 0;
#X connect 2 0 5 0;
#X connect 4 0 5 2;
#X connect 5 0 3 0;
#X restore 127 262 pd rev;
#X obj 112 331 +~;
#X obj 112 350 wrap~;
#X obj 40 117 r~ phasor-main;
#N canvas 672 114 450 356 gr-size 0;
#X obj 127 225 f;
#X obj 168 79 i;
#X msg 82 177 0;
#X obj 168 98 != 0;
#X obj 142 159 spigot;
#X obj 82 135 sel 0;
#X obj 142 193 f;
#X obj 127 244 * 0.0001;
#X obj 248 209 inlet;
#X obj 142 52 r grain-size;
#X obj 127 266 sig~;
#X obj 127 291 outlet~;
#X obj 168 119 t f f;
#X connect 0 0 7 0;
#X connect 1 0 3 0;
#X connect 2 0 6 0;
#X connect 3 0 12 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 6 0 0 1;
#X connect 7 0 10 0;
#X connect 8 0 0 0;
#X connect 9 0 1 0;
#X connect 9 0 4 0;
#X connect 10 0 11 0;
#X connect 12 0 5 0;
#X connect 12 1 4 1;
#X restore 142 193 pd gr-size;
#X obj 242 104 mtof;
#X obj 127 304 +~;
#X obj 242 59 r note-pitch;
#X obj 242 79 +;
#X obj 322 63 t b f;
#X obj 112 500 outlet~;
#X obj 160 230 r reverse;
#X obj 390 177 t b b b;
#X obj 242 126 sig~;
#X obj 112 395 +~;
#N canvas 0 23 450 300 random-phase 0;
#X obj 98 114 loadbang;
#X obj 98 204 outlet;
#X text 95 76 Set random phase for each individual grain \, so they
don't start all form the same place., f 46;
#X obj 98 143 random 10000;
#X obj 98 163 * 0.0001;
#X connect 0 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X restore 293 131 pd random-phase;
#N canvas 0 23 450 300 random-position 0;
#X obj 167 155 * 0.01;
#X obj 167 177 sig~;
#X obj 254 87 r random-position;
#X obj 167 40 loadbang;
#X obj 167 199 outlet~;
#X obj 96 87 inlet;
#X obj 254 109 * 0.01;
#X obj 167 125 *;
#X obj 167 103 random 100;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 2 0 6 0;
#X connect 3 0 8 0;
#X connect 5 0 8 0;
#X connect 6 0 7 1;
#X connect 7 0 0 0;
#X connect 8 0 7 0;
#X restore 409 288 pd random-position;
#N canvas 0 23 450 300 display-grain 0;
#X obj 184 142 r \$0-grain-nr;
#X floatatom 195 164 5 0 0 0 - - -;
#N canvas 0 23 304 195 snapshot 0;
#X obj 132 88 snapshot~;
#X obj 77 61 bang~;
#X obj 132 55 inlet~;
#X obj 132 110 outlet;
#X connect 0 0 3 0;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X restore 163 106 pd snapshot;
#X obj 163 69 inlet~;
#X obj 163 210 send;
#X msg 184 185 symbol r-grain-\$1;
#X connect 0 0 1 0;
#X connect 0 0 5 0;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X connect 5 0 4 1;
#X restore 171 366 pd display-grain;
#N canvas 0 23 453 466 envelope 0;
#X obj 148 259 line~;
#X msg 148 236 1 \, 0 \$1;
#X obj 148 215 f;
#X obj 148 406 *~;
#X obj 199 390 sig~;
#X obj 180 173 r env-time;
#X obj 165 153 random 10000, f 13;
#X obj 165 193 *;
#N canvas 0 23 450 300 prob 0;
#X obj 152 58 inlet;
#X obj 152 80 random 100;
#X obj 152 102 moses;
#X obj 152 124 t b;
#X obj 152 146 outlet;
#X obj 232 86 inlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 5 0 2 1;
#X restore 148 111 pd prob;
#X obj 214 333 r env-am;
#N canvas 0 23 450 300 odd-even 0;
#X obj 257 103 % 2;
#X obj 257 76 r \$0-grain-nr;
#X obj 141 56 inlet~;
#X obj 141 91 *~ 1;
#X obj 179 91 *~ -1;
#X obj 141 143 outlet~;
#N canvas 515 366 396 291 spigot~ 0;
#X obj 52 40 inlet~;
#X obj 332 62 inlet;
#X obj 146 185 outlet~;
#X obj 52 102 *~;
#X obj 67 78 == 0;
#X obj 112 40 inlet~;
#X obj 112 102 *~;
#X obj 127 78 == 1;
#X connect 0 0 3 0;
#X connect 1 0 4 0;
#X connect 1 0 7 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 6 0;
#X connect 6 0 2 0;
#X connect 7 0 6 1;
#X restore 141 119 pd spigot~;
#X connect 0 0 6 2;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 2 0 4 0;
#X connect 3 0 6 0;
#X connect 4 0 6 1;
#X connect 6 0 5 0;
#X restore 148 288 pd odd-even;
#X obj 148 58 inlet;
#X obj 187 86 r p-env-prob;
#X obj 148 428 outlet~;
#X obj 199 369 f;
#X obj 148 132 t b b b b;
#X connect 0 0 10 0;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 3 0 13 0;
#X connect 4 0 3 1;
#X connect 5 0 7 1;
#X connect 6 0 7 0;
#X connect 7 0 2 1;
#X connect 8 0 15 0;
#X connect 9 0 14 1;
#X connect 10 0 3 0;
#X connect 11 0 8 0;
#X connect 12 0 8 1;
#X connect 14 0 4 0;
#X connect 15 0 2 0;
#X connect 15 1 6 0;
#X connect 15 3 14 0;
#X restore 429 379 pd envelope;
#N canvas 0 23 257 264 saw-sine 0;
#N canvas 75 23 256 194 sine 0;
#X obj 110 38 inlet~;
#X obj 110 61 cos~;
#X obj 110 83 *~ 0.5;
#X obj 110 105 +~ 0.5;
#X obj 110 127 outlet~;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X restore 106 91 pd sine;
#X obj 158 112 r saw/sine;
#X obj 78 64 inlet~;
#X obj 78 153 outlet~;
#N canvas 515 366 396 291 spigot~ 0;
#X obj 52 40 inlet~;
#X obj 332 62 inlet;
#X obj 146 185 outlet~;
#X obj 52 102 *~;
#X obj 67 78 == 0;
#X obj 112 40 inlet~;
#X obj 112 102 *~;
#X obj 127 78 == 1;
#X connect 0 0 3 0;
#X connect 1 0 4 0;
#X connect 1 0 7 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 6 0;
#X connect 6 0 2 0;
#X connect 7 0 6 1;
#X restore 78 128 pd spigot~;
#X connect 0 0 4 1;
#X connect 1 0 4 2;
#X connect 2 0 0 0;
#X connect 2 0 4 0;
#X connect 4 0 3 0;
#X restore 282 246 pd saw-sine;
#N canvas 0 23 450 300 random-pitch 0;
#X obj 245 78 * 0.01;
#X obj 245 97 t b f;
#X obj 170 113 *;
#X obj 245 59 r ran-pitch-am;
#X obj 170 87 random 512;
#X obj 170 54 inlet;
#X obj 170 135 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 2 1;
#X connect 2 0 6 0;
#X connect 3 0 0 0;
#X connect 4 0 2 0;
#X connect 5 0 4 0;
#X restore 322 36 pd random-pitch;
#X obj 112 448 tabread4~ grain;
#X obj 242 452 grain-window;
#N canvas 0 23 450 300 grain-state/number 0;
#X obj 224 54 loadbang;
#X obj 224 169 s \$0-grain-nr;
#X obj 149 123 >=;
#X obj 149 22 r grain-on;
#X obj 224 86 \$1;
#X obj 224 107 + 1;
#X obj 149 43 t f b;
#X obj 149 184 outlet;
#X connect 0 0 4 0;
#X connect 2 0 7 0;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X connect 5 0 2 1;
#X connect 6 0 2 0;
#X connect 6 1 4 0;
#X restore 10 10 pd grain-state/number;
#X obj 10 34 switch~;
#N canvas 0 23 450 300 phasor 1;
#X obj 101 91 phasor~;
#X obj 190 177 threshold~ 0.999 10 0.001 10;
#X obj 190 137 fexpr~ abs($x1-$x1[-1]) > 0.5;
#X obj 101 152 outlet~;
#X obj 190 198 outlet;
#X obj 140 61 inlet;
#X obj 101 31 inlet~;
#X connect 0 0 2 0;
#X connect 0 0 3 0;
#X connect 1 0 4 0;
#X connect 2 0 1 0;
#X connect 5 0 0 1;
#X connect 6 0 0 0;
#X restore 242 161 pd phasor;
#X connect 0 0 1 1;
#X connect 1 0 26 0;
#X connect 2 0 15 0;
#X connect 3 0 11 0;
#X connect 5 0 3 0;
#X connect 6 0 7 0;
#X connect 7 0 19 0;
#X connect 7 0 22 0;
#X connect 8 0 6 0;
#X connect 9 0 3 1;
#X connect 10 0 18 0;
#X connect 11 0 6 1;
#X connect 12 0 13 0;
#X connect 13 0 10 0;
#X connect 14 0 13 0;
#X connect 14 1 13 1;
#X connect 16 0 5 1;
#X connect 17 1 9 0;
#X connect 17 1 21 0;
#X connect 17 1 25 0;
#X connect 17 2 23 0;
#X connect 18 0 30 0;
#X connect 19 0 1 0;
#X connect 20 0 30 1;
#X connect 21 0 11 1;
#X connect 23 0 19 1;
#X connect 24 0 5 0;
#X connect 25 0 14 0;
#X connect 26 0 2 0;
#X connect 27 0 2 1;
#X connect 28 0 29 0;
#X connect 30 0 27 0;
#X connect 30 0 24 0;
#X connect 30 1 17 0;
#X connect 30 1 4 0;
